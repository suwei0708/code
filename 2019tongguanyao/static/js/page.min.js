function initPageEvents(){document.body.addEventListener("touchmove",bodyScroll,{passive:!1}),$(".btn-tijiao").on("click",function(){return!!isClick&&($.trim($("#form input[name=impression]:checked").val())?$.trim($("#form input[name=name]").val())?$.trim($("#form input[name=mobile]").val())?/^1\d{10}$/.test($.trim($("#form input[name=mobile]").val()))?$.trim($("#form select[name=date] option:selected").val())?(alertTips("活动已经结束，感谢关注！"),!1):(alertTips("日期不能为空！"),!1):(alertTips("电话号码格式不正确"),!1):(alertTips("电话号码不能为空！"),!1):(alertTips("姓名不能为空！"),!1):(alertTips("请选择端午印象！"),!1))}),document.body.addEventListener("focusout",()=>{setTimeout(()=>{var t=document.documentElement.scrollTop||document.body.scrollTop||0;window.scrollTo(0,Math.max(t-1,0))},100)})}function convertImageToCanvas(t,e,a,i){var n=document.createElement("canvas");n.width=t.width,n.height=t.height;var o=n.getContext("2d");return o.save(),o.drawImage(t,0,0,750,1334),o.drawImage(e,55,1183,110,110),o.fillStyle="#000",o.font="29px Microsoft Yahei",o.fillText(a,320,1085),o.font="22px Microsoft Yahei",o.fillText("报名"+i+"时间， 端午假， 自驾去汨罗",241,1303),o.restore(),o.stroke(),n}function convertCanvasToImage(t){var e=new Image;return e.crossOrigin="anonymous",e.src=t.toDataURL("image/png"),e}function bodyScroll(t){t.preventDefault()}function alertTips(t,e){$(".alerttips-box").length||($("#content").append('<div class="alerttips-box"><div class="alerttips"></div></div>'),$("body").append()),$(".alerttips").html(t),$(".alerttips-box").show(),time=e||2e3,clearTimeout(alertTimes),alertTimes=setTimeout(function(){$(".alerttips-box").hide()},time)}var app={},resultNum=0,isClick=1;app.width,app.height,app.loop=!1,app.DEFAULT_WIDTH=750,app.DEFAULT_HEIGHT=1334,app.baseUrl="static/img/",app.music=$("#bg")[0],app.audio=$("#audio")[0],app.init=function(){app.audio&&app.audio.play(),document.addEventListener("WeixinJSBridgeReady",function(){app.audio.play()},!1);var t=[app.baseUrl+"a-loading.png"];$.each($("#content img"),function(){t.push($(this).attr("src"))}),$.imgpreload(t,{all:function(){setTimeout(function(){$(".loading").fadeOut(),$(".page1").show()},500)}})},$(function(){app.init(),initPageEvents()});var alertTimes,result=[];